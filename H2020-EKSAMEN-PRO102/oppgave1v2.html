<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Oppgave 1. Glasset med ananasjuice (25%)</title>
    <style>
        /*
                *
                    Denne CSS-koden skal ikke endres
                *
            */
        #glass-div {
            width: 150px;
            height: 350px;
            border: 1px solid black;
            border-top: none;
            margin-top: 50px;
            position: relative;
        }

        #juice-div {
            height: 50px;
            width: 100%;
            background-color: rgb(230, 230, 50);
            opacity: 0.5;
            position: absolute;
            bottom: 0;
            transition: height 2s;
        }

        #status-p {
            color: red;
        }
    </style>
</head>

<body>

    <h3>Ananasjuicedrikking</h3>

    <label>Juice-mengde</label>
    <input id="juice-amount-txt" type="text">

    <input id="pour-more-juice-btn" type="button" value="Hell i mer juice">
    <input id="drink-juice-btn" type="button" value="Drikk juice">

    <p id="status-p">Status nå: OK</p>

    <div id="glass-div">
        <span id="juice-level-span">50</span>
        <div id="juice-div"></div>
    </div>

    <script type="text/javascript">
        // txt og btn

        var pourMoreJuiceBtn = document.getElementById("pour-more-juice-btn");
        var drinkJuiceBtn = document.getElementById("drink-juice-btn");
        var juiceDiv = document.getElementById("juice-div");

        var juiceLiquid = document.getElementById("juice-div");
        //Status og 50
        var statusP = document.getElementById("status-p");

        var juiceLevelSpan = document.getElementById("juice-level-span").innerHTML;

        pourMoreJuiceBtn.onclick = moreJuice
        drinkJuiceBtn.onclick = lessJuice

        var juiceAmountTxt = document.getElementById("juice-amount-txt");


        function moreJuice() {
            if (juiceAmountTxt.value == "") {
                statusP.innerHTML = "Man må skrive inn et tall";
            } else {
                var juiceParsed = parseInt(juiceLevelSpan) + parseInt(juiceAmountTxt.value)
                document.getElementById("juice-div").style.height = `${juiceParsed}px`; 
                document.getElementById("juice-level-span").innerHTML = juiceParsed;
                juiceLevelSpan = juiceParsed;

                juiceDiv.style.cssText = `height: ${juiceParsed}px;`

                if (juiceParsed > 350) {
                    juiceDiv.style.cssText = "height: 350px;";
                    statusP.innerHTML = "Glasset er helt fullt";
                    document.getElementById("juice-level-span").innerHTML = 350;
                } else if (juiceParsed <= 0) {
                    juiceDiv.style.cssText = "height: 0px;";
                    statusP.innerHTML = "Glasset er nå helt tomt"
                    document.getElementById("juice-level-span").innerHTML = 0;
                } else if (juiceParsed >= 1 && juiceParsed <= 349) {
                    juiceDiv.style.cssText = `height:${juiceParsed}px`;
                    statusP.innerHTML = "Status nå: OK"
                }
            }

        }

        function lessJuice() {
            if (juiceAmountTxt.value == "") {
                statusP.innerHTML = "Man må skrive inn et tall";
            } else {
                var juiceParsed = parseInt(juiceLevelSpan) - parseInt(juiceAmountTxt.value)

                document.getElementById("juice-div").style.height = `${juiceParsed}px`; 
                document.getElementById("juice-level-span").innerHTML = juiceParsed;
                juiceLevelSpan = juiceParsed;

                juiceDiv.style.cssText = `height: ${juiceParsed}px`;

                if (juiceParsed > 350) {
                    juiceDiv.style.cssText = "height: 350px;";
                    statusP.innerHTML = "Glasset er helt fullt";
                    document.getElementById("juice-level-span").innerHTML = 350;
                } else if (juiceParsed <= 0) {
                    juiceDiv.style.cssText = "height: 0px;";
                    statusP.innerHTML = "Glasset er nå helt tomt"
                    document.getElementById("juice-level-span").innerHTML = 0;
                } else if (juiceParsed >= 1 && juiceParsed <= 349) {
                    juiceDiv.style.cssText = `height:${juiceParsed}px;`
                    statusP.innerHTML = "Status nå: OK"
                }
            }
        }
    </script>

</body>

</html>